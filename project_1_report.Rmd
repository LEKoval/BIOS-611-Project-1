
Lauren Koval

BIOS 611 Project 1

October 19, 2020


---
title: "Examination of 5 Causes of Death Worldwide from 1980-2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Project Overview

This project set out to uncover elementary spatial and temporal relationships between various causes of non-disease deaths and the frequency with which they occurred in countries all over the world from 1980-2017.

The datasets I used are publicly available for download on Kaggle. Links are available through the **README.md** file on github.


[global causes of deaths other than disease](https://www.kaggle.com/tahminashoaib86/global-cause-of-the-deaths-other-than-diseases)-  This dataset contains the country, ISO Code, year, total population, and annual number of deaths due to conflicts and terrorism, epidemics, famine, natural disaster, & other injuries for each country in each year. Additional information that I did not use in my analysis but is present in the file is the male population, female population, GDP, and GDP per capita for each country in each year.

[country to continent mapping](https://www.kaggle.com/statchaitya/country-to-continent)-  This dataset contains the country, various identifying country codes, including the ISO code, here named *code_3*, as well as subregions and continents.


To start, I generated a few preliminary figures with the script **prelim_figs.R**:

![](figures/cause_line_prelim.png)

This line graph shows the global number of deaths from the five major causes examined in this analysis each year from 1980- 2017. 

![](figures/region_death_heat_prelim.png)

 This heatmap shows the total number of deaths from the five major causes examined in this analysis in various subregions of the world from 1980-2017

Unfortunately, neither of these figures proved to be overly informative. The range of the data was so great, it was difficult to scale the figures while just considering the total number of deaths. The main aim of this project was to to recreate these figures in ways that would be more insightful.


## Analysis

### Fixing Population Data

I first wanted to consider the ratio of the number of deaths to the population. For the line graph, this would be the annual global population, and for the heatmap, this would be the subregion population. The subregion population consideration was later dropped. I will elaborate more on this later. Unfortunately, the population data in the cause dataset was incomplete. Exploring the inconsistencies and testing ways to address this issue ended up becoming a more time consuming and significant portion of the project than I initially anticipated. The script **fix_pop_data.R** cleans and organizes the dataset then fixes population data where necessary. 

Upon investigation, 182 of the 194 countries were missing the population for the epidemics cause for every year. This was rectified by copying the population from another cause for that country and that year. There were 8 countries that were missing all population data and these were omitted from the analysis (American Samoa, Bermuda, Dominica, Greenland, Marshall Islands, Northern Mariana Islands, Taiwan, & U.S. Virgin Islands). The other 4 countries (Eritrea, Kuwait, Palestine, and Serbia) were missing population data for a handful of sequential years. Ultimately, I attempted to fit various models to the existing population data for those countries to fill in this data.

![](figures/eritrea_population.png)

![](figures/kuwait_population.png)
![](figures/palestine_population.png)

![](figures/serbia_population.png)

There was a level of subjectivity when selecting the appropriate model to use as a predictor for Eritrea and Serbia. It wouldn't surprise me if there exists a population specific model that could be better predictor than the quadratic and quartic polynomials that I have chosen to use here. However, I have some concerns about the overall quality of the data which I believe to be the ultimate limiting factor, so I am okay with using less precise models. The final population data used in further analyses for each of these countries is comprised of the reported values with the predicted values for the missing years.

**fix_pop_data.R** produces the above figures as well as a csv of the final country specific dataset for each of the modeled countries (**adjusted_eritrea_population.csv**, **adjusted_kuwait_population.csv**, **adjusted_palestine_population.csv**, and **adjusted_serbia_population.csv**) and a final csv of comprising the new complete cause dataset of 186 countrues to use for further analyses (**cleaned_pop_data.csv**). All of these files can be found in the *derived_data* folder. 


### Findings

After creating a more complete and unified cause dataset, I attempted to recreate the preliminary figures but scaling for population size with the script **updated_prelim_figs.R**. This may have been a futile effort. 

![](figures/deaths_population_ratio_line_graph.png)

The line graph generated was no more informative than the initial figure. Additionally, after consideration, it didn't make much sense to scale the subregion heatmap by population since there was no temporal consideration presented in the initial figure. It felt contrived and uninintuitive to artificially introduce that component by aggregating the populations of all subregions over a 38 year span. Instead I considered another approach: scaling by the total number of deaths. Since death is a discrete event, it is easier to aggregate over time than a fluctuating variable like population. I then generated these figures:

![](figures/deaths_ratio_line_graph.png)

![](figures/deaths_ratio_heatmap.png)

These figures indicate that both spatially and temporally, Conflicts and Terrorism generally account for more deaths, relative to the number of deaths, than the other four causes. It is particularly interesting to note the mirroring effect of Conflicts and Terrorism with Natural Disaster in the line graph. Upon inspection, in years where a greater proportion of deaths occurred due to Conflict and Terrorism, a smaller proportion of deaths occurred due to Natural Disaster. I would be very interested in further exploring this relationship. Additionally, just out of curiosity, I would be interested in using a time series analysis to predict the number of deaths expected in the U.S. due to an epidemic for 2020 solely to compare to where we are at (~220K as of October 19th) 

I did have some reservations about the quality of the data in the cause dataset, so it would be beneficial to try to find additional datasets that could be used to both validate and supplement the current data for future analyses.


## The Interactive Visualization

An Rshiny application was later created that was inspired by the line graph. While the line graph that was scaled by the number of deaths was more insightful then the initial figure, it was still a little difficult to look at,as there is a lot going on. I thought a bar graph depicitng the same information for each year would be more straightforward. I implemented a sliding bar to change the year which allows for a smooth, seamless transition between the graphs for each year. I think both the static and interactive plots have their merit, but the interactive plot makes the information easier to digest.

The application can be run by following the instructions in the section **Rshiny Visualization** in the project README. 